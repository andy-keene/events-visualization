
console.log('config ' + config);
var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: ["January\nhey", "February", "March", "April", "May", "June", "July"],
        datasets: [{
            label: "My First dataset",
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [0, 10, 5, 2, 20, 30, 45],
        }]
    },

    // Configuration options go here
    options: {}
});



<html>
	<head>

		<!-- headers for maps -->
		<script src="https://www.amcharts.com/lib/3/ammap.js"></script>
		<script src="https://www.amcharts.com/lib/3/maps/js/worldLow.js"></script>
		<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
		<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
		<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>

		<!-- headers for bootstrap -->
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>


		<style type="text/css">
			#chartdiv {
			  width: 80%;
			  height: 400px;
			  margin: auto;
			  border-radius: 3px;
			  border-style: fill;
			  border-width: 2px;
			  border-color: black;
			}						
		</style>
	</head>


	<body>
		<!--Navbar -->
	    <nav class="navbar navbar-default">
	      <div class="container-fluid">
	        <!-- Brand and toggle get grouped for better mobile display -->
	        <div class="navbar-header">
	          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
	            <span class="sr-only">Toggle navigation</span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	          </button>
	          <a class="navbar-brand" href="#">ssh-events</a>
	        </div>
	        <!-- Collect the nav links, forms, and other content for toggling -->
	        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	          <ul class="nav navbar-nav">
	            <li><a href="#home">Home </a></li>
	            <li><a href="#about">About</a></li>
	            
	          </ul>
	          
	          
	        </div><!-- /.navbar-collapse -->
	      </div><!-- /.container-fluid -->
	    </nav><!-- /.Navbar -->
		
		<div class="container-fluid">
			
				<div class="row">
					<div class="col-md-12">
						<div id="chartdiv"></div>
					</div><!-- end animated map --> 
				</div> <!-- end row -->
		</div><!-- end grid --> 
		












		<script>
		/**
 * SVG path for target icon
 */
var targetSVG = "M9,0C4.029,0,0,4.029,0,9s4.029,9,9,9s9-4.029,9-9S13.971,0,9,0z M9,15.93 c-3.83,0-6.93-3.1-6.93-6.93S5.17,2.07,9,2.07s6.93,3.1,6.93,6.93S12.83,15.93,9,15.93 M12.5,9c0,1.933-1.567,3.5-3.5,3.5S5.5,10.933,5.5,9S7.067,5.5,9,5.5 S12.5,7.067,12.5,9z";

/**
 * SVG path for plane icon
 */
var planeSVG = "m2,106h28l24,30h72l-44,-133h35l80,132h98c21,0 21,34 0,34l-98,0 -80,134h-35l43,-133h-71l-24,30h-28l15,-47";

		var map = AmCharts.makeChart( "chartdiv", {
  "type": "map",
"theme": "light",


  "dataProvider": {
    "map": "worldLow",
   

    "lines": [],
    "images": []
  },

  "areasSettings": {
    "unlistedAreasColor": "#8dd9ef"
  },

  "imagesSettings": {
    "color": "#FF0000",
    "rollOverColor": "#585869",
    "selectedColor": "#585869",
    //"pauseDuration": 0.2,
    //"animationDuration": 2.5,
    //"adjustAnimationSpeed": true
  },

  "linesSettings": {
    "color": "#585869",
    "alpha": 0.4
  },

  "export": {
    "enabled": true
  }
});


    jQuery.get({
      url: 'http://35.194.13.254:8080/events',
      dataType: "json",
      success: function(response, status){
          
          if(response.error === null){
            var uniqueEvents = {};
            

            response.events.forEach(function(element){
            	
            	var key = element.remote_longitude.toString() + element.remote_latitude.toString();
            	if(uniqueEvents[key]){
            		uniqueEvents[key].description = updateDescription(uniqueEvents[key], generateDescription(element));
            		uniqueEvents[key].width += 0.1;
            	}
            	else{
            		//let description = element.type === "password" ? "Username: ${}" + 
            		uniqueEvents[key] = {
						"type": "circle",
						"width": 3,
						"fixedSize": true,
					    "title": element.remote_city,
						"longitude": element.remote_longitude,
						"latitude": element.remote_latitude,
						//description is on click display of indormation
						"description": "<div style=\"max-height:100px;overflow:auto;>\"" + generateDescription(element) + "</div>",
						"descriptionWindowHeight": 150,
					  	"descriptionWindowWidth": 310
			    	};
            	}
            	
            });
            map.dataProvider.images = Object.values(uniqueEvents);
            map.validateData();
		}
      }

    });

    //appends an additional event for the event/img while retaining the <div> container
    function updateDescription(event, newDescription){
    	let length = event.description.length;
    	return event.description.slice(0, length - 6) + newDescription + "</div>";

    }

    //generates given events description (i.e. user/password/etc.)
    function generateDescription(event){
    	return `
			   <b>Service</b>: ${event.service}, 
			   <b>Type</b>: ${event.type}<br>
			   ${event.type === "password" ? "<b>Usr: </b>" + event.username + " <b>Pwd:/b> " + event.password + "</b>": ""}
			   <hr>
			   `;

    }

		

		</script>

	</body>

</html>